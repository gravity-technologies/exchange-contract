[
   {
      "name": "createSubAcc: should create sub-account successully",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         }
      ]
   },
   {
      "name": "createSubAcc: should not create sub-account successully (Wrong S)",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad93141cd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TFBzQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad93141cd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "eip712 invalid signature: recovery failed"
         }
      ]
   },
   {
      "name": "createSubAcc: should not create sub-account successully (Wrong R)",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7f1823",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp/GCNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7f18236800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "eip712 invalid signature: recovery failed"
         }
      ]
   },
   {
      "name": "createSubAcc: should not create sub-account successully (Wrong V)",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "eip712 invalid signature: recovery failed"
         }
      ]
   },
   {
      "name": "createSubAcc: should not create sub-account successully (Wrong nonce)",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1235
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0w==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d3",
            "ret": "eip712 invalid signature: recovery failed"
         }
      ]
   },
   {
      "name": "createSubAcc: should error if account doesn't exist",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "account 0xf8BE5a3750B52D50a819B9AE4130AFC02DC6ad27 not found"
         }
      ]
   },
   {
      "name": "createSubAcc: should error if sub-account already exists",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "subaccount already exists",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         }
      ]
   },
   {
      "name": "addSubAccountSigner: admin can add sub-account signer",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x9339585469aa3123cd0800776fba051ca0dbba8a413e88b990ad462818834f8c",
                     "s": "0x479bc3e566b2fb039d68259d9482554972e8a0b6b83fecf5584c885a4baab363",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ5M5WFRpqjEjzQgAd2+6BRyg27qKQT6IuZCtRigYg0+MR5vD5Way+wOdaCWdlIJVSXLooLa4P+z1WEyIWkuqs2MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNI=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad279339585469aa3123cd0800776fba051ca0dbba8a413e88b990ad462818834f8c479bc3e566b2fb039d68259d9482554972e8a0b6b83fecf5584c885a4baab363000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        "0x1081bb32977cf86566f67f0b25979712da8f964b": "2"
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         }
      ]
   },
   {
      "name": "addSubAccountSigner: fails if invalid signature (Wrong S)",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x9339585469aa3123cd0800776fba051ca0dbba8a413e88b990ad462818834f8c",
                     "s": "0x479bc3e566b2fb039d68259d9482554972e8a0b6b83fecf5584c885a4baada73",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ5M5WFRpqjEjzQgAd2+6BRyg27qKQT6IuZCtRigYg0+MR5vD5Way+wOdaCWdlIJVSXLooLa4P+z1WEyIWkuq2nMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNI=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad279339585469aa3123cd0800776fba051ca0dbba8a413e88b990ad462818834f8c479bc3e566b2fb039d68259d9482554972e8a0b6b83fecf5584c885a4baada73000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "eip712 invalid signature: recovery failed"
         }
      ]
   },
   {
      "name": "addSubAccountSigner: fails if invalid signature (Wrong R)",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x9339585469aa3123cd0800776fba051ca0dbba8a413e88b990ad46281883769c",
                     "s": "0x479bc3e566b2fb039d68259d9482554972e8a0b6b83fecf5584c885a4baab363",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ5M5WFRpqjEjzQgAd2+6BRyg27qKQT6IuZCtRigYg3acR5vD5Way+wOdaCWdlIJVSXLooLa4P+z1WEyIWkuqs2MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNI=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad279339585469aa3123cd0800776fba051ca0dbba8a413e88b990ad46281883769c479bc3e566b2fb039d68259d9482554972e8a0b6b83fecf5584c885a4baab363000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "eip712 invalid signature: recovery failed"
         }
      ]
   },
   {
      "name": "addSubAccountSigner: fails if invalid signature (Wrong V)",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x9339585469aa3123cd0800776fba051ca0dbba8a413e88b990ad462818834f8c",
                     "s": "0x479bc3e566b2fb039d68259d9482554972e8a0b6b83fecf5584c885a4baab363",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ5M5WFRpqjEjzQgAd2+6BRyg27qKQT6IuZCtRigYg0+MR5vD5Way+wOdaCWdlIJVSXLooLa4P+z1WEyIWkuqs2MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNI=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad279339585469aa3123cd0800776fba051ca0dbba8a413e88b990ad462818834f8c479bc3e566b2fb039d68259d9482554972e8a0b6b83fecf5584c885a4baab363000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "eip712 invalid signature: recovery failed"
         }
      ]
   },
   {
      "name": "addSubAccountSigner: fails if invalid signature (Wrong nonce)",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x9339585469aa3123cd0800776fba051ca0dbba8a413e88b990ad462818834f8c",
                     "s": "0x479bc3e566b2fb039d68259d9482554972e8a0b6b83fecf5584c885a4baab363",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 1235
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ5M5WFRpqjEjzQgAd2+6BRyg27qKQT6IuZCtRigYg0+MR5vD5Way+wOdaCWdlIJVSXLooLa4P+z1WEyIWkuqs2MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNM=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad279339585469aa3123cd0800776fba051ca0dbba8a413e88b990ad462818834f8c479bc3e566b2fb039d68259d9482554972e8a0b6b83fecf5584c885a4baab363000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d3",
            "ret": "eip712 invalid signature: recovery failed"
         }
      ]
   },
   {
      "name": "addSubAccountSigner: fails if sub-account doesn't exists",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x9339585469aa3123cd0800776fba051ca0dbba8a413e88b990ad462818834f8c",
                     "s": "0x479bc3e566b2fb039d68259d9482554972e8a0b6b83fecf5584c885a4baab363",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ5M5WFRpqjEjzQgAd2+6BRyg27qKQT6IuZCtRigYg0+MR5vD5Way+wOdaCWdlIJVSXLooLa4P+z1WEyIWkuqs2MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNI=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad279339585469aa3123cd0800776fba051ca0dbba8a413e88b990ad462818834f8c479bc3e566b2fb039d68259d9482554972e8a0b6b83fecf5584c885a4baab363000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "subaccount 1 not found"
         }
      ]
   },
   {
      "name": "addSubAccountSigner: fails if wrong siger signs the transaction",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0xfe5241329e9b1d903b650793321cf720e080826110c8a394769b38ab296288b5",
                     "s": "0x0b5915c88e77944c6b65b0b5f4a6ea502c7279b064fb4f3191d8f6345bb3371f",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAQgbsyl3z4ZWb2fwsll5cS2o+WS/5SQTKemx2QO2UHkzIc9yDggIJhEMijlHabOKspYoi1C1kVyI53lExrZbC19KbqUCxyebBk+08xkdj2NFuzNx8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNI=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b00000000000000000000000000000000000000000000000000000000000000020000000000000000000000001081bb32977cf86566f67f0b25979712da8f964bfe5241329e9b1d903b650793321cf720e080826110c8a394769b38ab296288b50b5915c88e77944c6b65b0b5f4a6ea502c7279b064fb4f3191d8f6345bb3371f000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "actor cannot call function",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         }
      ]
   },
   {
      "name": "addSubAccountSigner: fails if no permission",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "4",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x99084936a3286c5b2d18cf5e96b7bf4a8d8b0835cccf20228f6fc4e4c1bf4891",
                     "s": "0x58fec132202f17a438b369242a91875756e0a56f0090b5582dc8dec350e2f499",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ5kISTajKGxbLRjPXpa3v0qNiwg1zM8gIo9vxOTBv0iRWP7BMiAvF6Q4s2kkKpGHV1bgpW8AkLVYLcjew1Di9JkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4kA=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000004000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad2799084936a3286c5b2d18cf5e96b7bf4a8d8b0835cccf20228f6fc4e4c1bf489158fec132202f17a438b369242a91875756e0a56f0090b5582dc8dec350e2f499000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        "0x1081bb32977cf86566f67f0b25979712da8f964b": "4"
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "2",
            "tx_id": "4",
            "tx": {
               "trace_id": "0",
               "tx_id": "4",
               "time": "2",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0",
                  "permissions": "2",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0x16b55320a633a00cae949e04d2a5e821587f7825978259248d96befa9e2cd482",
                     "s": "0x31464160d34331f0bbb03d84d76a804441695f4866f811c5af24efd6a8387354",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAANFTgq7Nstzsxe2BgJMRL+lJxKPwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAQgbsyl3z4ZWb2fwsll5cS2o+WSxa1UyCmM6AMrpSeBNKl6CFYf3gll4JZJI2WvvqeLNSCMUZBYNNDMfC7sD2E12qAREFpX0hm+BHFryTv1qg4c1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4kA=",
            "tx_data": "0xfc4d5aeb000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000001000000000000000000000000d15382aecdb2dcecc5ed818093112fe949c4a3f000000000000000000000000000000000000000000000000000000000000000020000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b16b55320a633a00cae949e04d2a5e821587f7825978259248d96befa9e2cd48231464160d34331f0bbb03d84d76a804441695f4866f811c5af24efd6a8387354000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "actor cannot call function",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        "0x1081bb32977cf86566f67f0b25979712da8f964b": "4"
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         }
      ]
   },
   {
      "name": "addSubAccountSigner: no-op if the signer is already a subaccount signer and adding the same permissions",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "4",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x99084936a3286c5b2d18cf5e96b7bf4a8d8b0835cccf20228f6fc4e4c1bf4891",
                     "s": "0x58fec132202f17a438b369242a91875756e0a56f0090b5582dc8dec350e2f499",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ5kISTajKGxbLRjPXpa3v0qNiwg1zM8gIo9vxOTBv0iRWP7BMiAvF6Q4s2kkKpGHV1bgpW8AkLVYLcjew1Di9JkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4kA=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000004000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad2799084936a3286c5b2d18cf5e96b7bf4a8d8b0835cccf20228f6fc4e4c1bf489158fec132202f17a438b369242a91875756e0a56f0090b5582dc8dec350e2f499000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        "0x1081bb32977cf86566f67f0b25979712da8f964b": "4"
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "2",
            "tx_id": "4",
            "tx": {
               "trace_id": "0",
               "tx_id": "4",
               "time": "2",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "4",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xfb5a7887dcf89707e99f70a374e125ae6f14804de8baf1a4c81270461b19d22e",
                     "s": "0x717dcb9dcb6a98a00e86990f381fdf05a290feff422320028de14b7a6d91b3f2",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234567
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ/taeIfc+JcH6Z9wo3ThJa5vFIBN6LrxpMgScEYbGdIucX3LnctqmKAOhpkPOB/fBaKQ/v9CIyACjeFLem2Rs/IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAS1oc=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000004000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27fb5a7887dcf89707e99f70a374e125ae6f14804de8baf1a4c81270461b19d22e717dcb9dcb6a98a00e86990f381fdf05a290feff422320028de14b7a6d91b3f2000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000012d687",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        "0x1081bb32977cf86566f67f0b25979712da8f964b": "4"
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         }
      ]
   },
   {
      "name": "setSubAccountSignerPermissions: acc-admin/sub-account-admin can change permission of subaccount signer",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "4",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x99084936a3286c5b2d18cf5e96b7bf4a8d8b0835cccf20228f6fc4e4c1bf4891",
                     "s": "0x58fec132202f17a438b369242a91875756e0a56f0090b5582dc8dec350e2f499",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ5kISTajKGxbLRjPXpa3v0qNiwg1zM8gIo9vxOTBv0iRWP7BMiAvF6Q4s2kkKpGHV1bgpW8AkLVYLcjew1Di9JkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4kA=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000004000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad2799084936a3286c5b2d18cf5e96b7bf4a8d8b0835cccf20228f6fc4e4c1bf489158fec132202f17a438b369242a91875756e0a56f0090b5582dc8dec350e2f499000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        "0x1081bb32977cf86566f67f0b25979712da8f964b": "4"
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "2",
            "tx_id": "4",
            "tx": {
               "trace_id": "0",
               "tx_id": "4",
               "time": "2",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x9f31966efcd1948029e2f4fe441adcd4b71fed64698e9cc352d052f818957c96",
                     "s": "0x49391b60e0699fffb5369882628a5a080852400fd89a087588ea96fe3dfc7b9a",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ58xlm780ZSAKeL0/kQa3NS3H+1kaY6cw1LQUvgYlXyWSTkbYOBpn/+1NpiCYopaCAhSQA/Ymgh1iOqW/j38e5oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4kA=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad279f31966efcd1948029e2f4fe441adcd4b71fed64698e9cc352d052f818957c9649391b60e0699fffb5369882628a5a080852400fd89a087588ea96fe3dfc7b9a000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        "0x1081bb32977cf86566f67f0b25979712da8f964b": "2"
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "3",
            "tx_id": "5",
            "tx": {
               "trace_id": "0",
               "tx_id": "5",
               "time": "3",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0",
                  "permissions": "4",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0x6530e023e6b816f7ae50a4996c3348c3b83114252feb0269d671e8d9e7b71a1b",
                     "s": "0x7a3b1e3e24cd6459097aad34bdc9badc8e4f4dd971ac6421d0668be446735a76",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAANFTgq7Nstzsxe2BgJMRL+lJxKPwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAQgbsyl3z4ZWb2fwsll5cS2o+WS2Uw4CPmuBb3rlCkmWwzSMO4MRQlL+sCadZx6NnntxobejsePiTNZFkJeq00vcm63I5PTdlxrGQh0GaL5EZzWnYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4kA=",
            "tx_data": "0xfc4d5aeb000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000001000000000000000000000000d15382aecdb2dcecc5ed818093112fe949c4a3f000000000000000000000000000000000000000000000000000000000000000040000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b6530e023e6b816f7ae50a4996c3348c3b83114252feb0269d671e8d9e7b71a1b7a3b1e3e24cd6459097aad34bdc9badc8e4f4dd971ac6421d0668be446735a76000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        "0x1081bb32977cf86566f67f0b25979712da8f964b": "2",
                        "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0": "4"
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         }
      ]
   },
   {
      "name": "setSubAccountSignerPermissions: fails if current user doesn't have permission to update",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "4",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xa8a7afc041f14d20e2f52d799bef854d50a58aa38154fd782e95a7dd88c6dab9",
                     "s": "0x3dc1b83452579dceb69fd7643cad3cd3d03d77d5af8befdff37e792cb75474d7",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ6inr8BB8U0g4vUteZvvhU1QpYqjgVT9eC6Vp92Ixtq5PcG4NFJXnc62n9dkPK0809A9d9Wvi+/f8355LLdUdNcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000004000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27a8a7afc041f14d20e2f52d799bef854d50a58aa38154fd782e95a7dd88c6dab93dc1b83452579dceb69fd7643cad3cd3d03d77d5af8befdff37e792cb75474d7000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "4",
            "tx": {
               "trace_id": "0",
               "tx_id": "4",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0",
                  "permissions": "4",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0x6530e023e6b816f7ae50a4996c3348c3b83114252feb0269d671e8d9e7b71a1b",
                     "s": "0x7a3b1e3e24cd6459097aad34bdc9badc8e4f4dd971ac6421d0668be446735a76",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAANFTgq7Nstzsxe2BgJMRL+lJxKPwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAQgbsyl3z4ZWb2fwsll5cS2o+WS2Uw4CPmuBb3rlCkmWwzSMO4MRQlL+sCadZx6NnntxobejsePiTNZFkJeq00vcm63I5PTdlxrGQh0GaL5EZzWnYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4kA=",
            "tx_data": "0xfc4d5aeb000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000001000000000000000000000000d15382aecdb2dcecc5ed818093112fe949c4a3f000000000000000000000000000000000000000000000000000000000000000040000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b6530e023e6b816f7ae50a4996c3348c3b83114252feb0269d671e8d9e7b71a1b7a3b1e3e24cd6459097aad34bdc9badc8e4f4dd971ac6421d0668be446735a76000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "actor cannot call function",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        "0x1081bb32977cf86566f67f0b25979712da8f964b": "4"
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         }
      ]
   },
   {
      "name": "removeAccountSigner: acc admin can remove sub-account signer",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xf81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437",
                     "s": "0x038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ/gcjvZjZ1hH/kKV7BgP/3/mG+uGVjhk9YDv27SRFVQ3A43e3pbtPsxgJYsCKtVrl/RCoDIpocQV2Qacio8iq/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27f81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "4",
            "tx": {
               "trace_id": "0",
               "tx_id": "4",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0",
                  "permissions": "4",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0x73612017239c15a5ab38d5e49e6ce333ec0454f3e8cc951008b64f61429de987",
                     "s": "0x6c4f853a19586bb16a3b11e07300872e740401591679a8fafdde7b542441f2ae",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAANFTgq7Nstzsxe2BgJMRL+lJxKPwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAQgbsyl3z4ZWb2fwsll5cS2o+WS3NhIBcjnBWlqzjV5J5s4zPsBFTz6MyVEAi2T2FCnemHbE+FOhlYa7FqOxHgcwCHLnQEAVkWeaj6/d57VCRB8q4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000001000000000000000000000000d15382aecdb2dcecc5ed818093112fe949c4a3f000000000000000000000000000000000000000000000000000000000000000040000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b73612017239c15a5ab38d5e49e6ce333ec0454f3e8cc951008b64f61429de9876c4f853a19586bb16a3b11e07300872e740401591679a8fafdde7b542441f2ae000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "5",
            "tx": {
               "trace_id": "0",
               "tx_id": "5",
               "time": "1",
               "type": "REMOVE_SUB_ACCOUNT_SIGNER",
               "remove_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x6a02bd26b29d4f1f3547b28fd4506c9a3a75aebaec7f7344e01434338bc08824",
                     "s": "0x105b941ee19b0bdf5fe566a5b41659d7c1919852b6e58e192686abf4353b9f9b",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "WQFBBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAA+L5aN1C1LVCoGbmuQTCvwC3GrSdqAr0msp1PHzVHso/UUGyaOnWuuux/c0TgFDQzi8CIJBBblB7hmwvfX+VmpbQWWdfBkZhStuWOGSaGq/Q1O5+bAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJA",
            "tx_data": "0x590141040000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad276a02bd26b29d4f1f3547b28fd4506c9a3a75aebaec7f7344e01434338bc08824105b941ee19b0bdf5fe566a5b41659d7c1919852b6e58e192686abf4353b9f9b000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0": "4"
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         }
      ]
   },
   {
      "name": "removeAccountSigner: sub-acc admin can remove sub-account signer",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xf81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437",
                     "s": "0x038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ/gcjvZjZ1hH/kKV7BgP/3/mG+uGVjhk9YDv27SRFVQ3A43e3pbtPsxgJYsCKtVrl/RCoDIpocQV2Qacio8iq/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27f81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "4",
            "tx": {
               "trace_id": "0",
               "tx_id": "4",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0",
                  "permissions": "4",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0x73612017239c15a5ab38d5e49e6ce333ec0454f3e8cc951008b64f61429de987",
                     "s": "0x6c4f853a19586bb16a3b11e07300872e740401591679a8fafdde7b542441f2ae",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAANFTgq7Nstzsxe2BgJMRL+lJxKPwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAQgbsyl3z4ZWb2fwsll5cS2o+WS3NhIBcjnBWlqzjV5J5s4zPsBFTz6MyVEAi2T2FCnemHbE+FOhlYa7FqOxHgcwCHLnQEAVkWeaj6/d57VCRB8q4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000001000000000000000000000000d15382aecdb2dcecc5ed818093112fe949c4a3f000000000000000000000000000000000000000000000000000000000000000040000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b73612017239c15a5ab38d5e49e6ce333ec0454f3e8cc951008b64f61429de9876c4f853a19586bb16a3b11e07300872e740401591679a8fafdde7b542441f2ae000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "5",
            "tx": {
               "trace_id": "0",
               "tx_id": "5",
               "time": "1",
               "type": "REMOVE_SUB_ACCOUNT_SIGNER",
               "remove_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0xa3d8669322b7ac806beb0eca5faefc2ff4f5bb768471143a16593bf0cc8ca518",
                     "s": "0x7fd0d77023e7afd3bfcddb6739bab64b572209f57d93c52f14e675b8e390ab25",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "WQFBBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAANFTgq7Nstzsxe2BgJMRL+lJxKPwAAAAAAAAAAAAAAAAEIG7Mpd8+GVm9n8LJZeXEtqPlkuj2GaTIresgGvrDspfrvwv9PW7doRxFDoWWTvwzIylGH/Q13Aj56/Tv83bZzm6tktXIgn1fZPFLxTmdbjjkKslAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJA",
            "tx_data": "0x59014104000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000001000000000000000000000000d15382aecdb2dcecc5ed818093112fe949c4a3f00000000000000000000000001081bb32977cf86566f67f0b25979712da8f964ba3d8669322b7ac806beb0eca5faefc2ff4f5bb768471143a16593bf0cc8ca5187fd0d77023e7afd3bfcddb6739bab64b572209f57d93c52f14e675b8e390ab25000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        "0x1081bb32977cf86566f67f0b25979712da8f964b": "2"
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         }
      ]
   },
   {
      "name": "removeAccountSigner: fails if invalid signature (Wrong S)",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xf81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437",
                     "s": "0x038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ/gcjvZjZ1hH/kKV7BgP/3/mG+uGVjhk9YDv27SRFVQ3A43e3pbtPsxgJYsCKtVrl/RCoDIpocQV2Qacio8iq/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27f81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "4",
            "tx": {
               "trace_id": "0",
               "tx_id": "4",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0",
                  "permissions": "4",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0x73612017239c15a5ab38d5e49e6ce333ec0454f3e8cc951008b64f61429de987",
                     "s": "0x6c4f853a19586bb16a3b11e07300872e740401591679a8fafdde7b542441f2ae",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAANFTgq7Nstzsxe2BgJMRL+lJxKPwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAQgbsyl3z4ZWb2fwsll5cS2o+WS3NhIBcjnBWlqzjV5J5s4zPsBFTz6MyVEAi2T2FCnemHbE+FOhlYa7FqOxHgcwCHLnQEAVkWeaj6/d57VCRB8q4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000001000000000000000000000000d15382aecdb2dcecc5ed818093112fe949c4a3f000000000000000000000000000000000000000000000000000000000000000040000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b73612017239c15a5ab38d5e49e6ce333ec0454f3e8cc951008b64f61429de9876c4f853a19586bb16a3b11e07300872e740401591679a8fafdde7b542441f2ae000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "5",
            "tx": {
               "trace_id": "0",
               "tx_id": "5",
               "time": "1",
               "type": "REMOVE_SUB_ACCOUNT_SIGNER",
               "remove_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0xa3d8669322b7ac806beb0eca5faefc2ff4f5bb768471143a16593bf0cc8ca518",
                     "s": "0x7fd0d77023e7afd3bfcddb6739bab64b572209f57d93c52f14e675b8e390d235",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "WQFBBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAANFTgq7Nstzsxe2BgJMRL+lJxKPwAAAAAAAAAAAAAAAAEIG7Mpd8+GVm9n8LJZeXEtqPlkuj2GaTIresgGvrDspfrvwv9PW7doRxFDoWWTvwzIylGH/Q13Aj56/Tv83bZzm6tktXIgn1fZPFLxTmdbjjkNI1AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJA",
            "tx_data": "0x59014104000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000001000000000000000000000000d15382aecdb2dcecc5ed818093112fe949c4a3f00000000000000000000000001081bb32977cf86566f67f0b25979712da8f964ba3d8669322b7ac806beb0eca5faefc2ff4f5bb768471143a16593bf0cc8ca5187fd0d77023e7afd3bfcddb6739bab64b572209f57d93c52f14e675b8e390d235000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "eip712 invalid signature: recovery failed",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        "0x1081bb32977cf86566f67f0b25979712da8f964b": "2",
                        "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0": "4"
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         }
      ]
   },
   {
      "name": "removeAccountSigner: fails if invalid signature (Wrong R)",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xf81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437",
                     "s": "0x038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ/gcjvZjZ1hH/kKV7BgP/3/mG+uGVjhk9YDv27SRFVQ3A43e3pbtPsxgJYsCKtVrl/RCoDIpocQV2Qacio8iq/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27f81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "4",
            "tx": {
               "trace_id": "0",
               "tx_id": "4",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0",
                  "permissions": "4",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0x73612017239c15a5ab38d5e49e6ce333ec0454f3e8cc951008b64f61429de987",
                     "s": "0x6c4f853a19586bb16a3b11e07300872e740401591679a8fafdde7b542441f2ae",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAANFTgq7Nstzsxe2BgJMRL+lJxKPwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAQgbsyl3z4ZWb2fwsll5cS2o+WS3NhIBcjnBWlqzjV5J5s4zPsBFTz6MyVEAi2T2FCnemHbE+FOhlYa7FqOxHgcwCHLnQEAVkWeaj6/d57VCRB8q4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000001000000000000000000000000d15382aecdb2dcecc5ed818093112fe949c4a3f000000000000000000000000000000000000000000000000000000000000000040000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b73612017239c15a5ab38d5e49e6ce333ec0454f3e8cc951008b64f61429de9876c4f853a19586bb16a3b11e07300872e740401591679a8fafdde7b542441f2ae000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "5",
            "tx": {
               "trace_id": "0",
               "tx_id": "5",
               "time": "1",
               "type": "REMOVE_SUB_ACCOUNT_SIGNER",
               "remove_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0xa3d8669322b7ac806beb0eca5faefc2ff4f5bb768471143a16593bf0cc8ccc28",
                     "s": "0x7fd0d77023e7afd3bfcddb6739bab64b572209f57d93c52f14e675b8e390ab25",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "WQFBBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAANFTgq7Nstzsxe2BgJMRL+lJxKPwAAAAAAAAAAAAAAAAEIG7Mpd8+GVm9n8LJZeXEtqPlkuj2GaTIresgGvrDspfrvwv9PW7doRxFDoWWTvwzIzMKH/Q13Aj56/Tv83bZzm6tktXIgn1fZPFLxTmdbjjkKslAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJA",
            "tx_data": "0x59014104000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000001000000000000000000000000d15382aecdb2dcecc5ed818093112fe949c4a3f00000000000000000000000001081bb32977cf86566f67f0b25979712da8f964ba3d8669322b7ac806beb0eca5faefc2ff4f5bb768471143a16593bf0cc8ccc287fd0d77023e7afd3bfcddb6739bab64b572209f57d93c52f14e675b8e390ab25000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "eip712 invalid signature: recovery failed",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        "0x1081bb32977cf86566f67f0b25979712da8f964b": "2",
                        "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0": "4"
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         }
      ]
   },
   {
      "name": "removeAccountSigner: fails if invalid signature (Wrong V)",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xf81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437",
                     "s": "0x038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ/gcjvZjZ1hH/kKV7BgP/3/mG+uGVjhk9YDv27SRFVQ3A43e3pbtPsxgJYsCKtVrl/RCoDIpocQV2Qacio8iq/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27f81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "4",
            "tx": {
               "trace_id": "0",
               "tx_id": "4",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0",
                  "permissions": "4",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0x73612017239c15a5ab38d5e49e6ce333ec0454f3e8cc951008b64f61429de987",
                     "s": "0x6c4f853a19586bb16a3b11e07300872e740401591679a8fafdde7b542441f2ae",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAANFTgq7Nstzsxe2BgJMRL+lJxKPwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAQgbsyl3z4ZWb2fwsll5cS2o+WS3NhIBcjnBWlqzjV5J5s4zPsBFTz6MyVEAi2T2FCnemHbE+FOhlYa7FqOxHgcwCHLnQEAVkWeaj6/d57VCRB8q4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000001000000000000000000000000d15382aecdb2dcecc5ed818093112fe949c4a3f000000000000000000000000000000000000000000000000000000000000000040000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b73612017239c15a5ab38d5e49e6ce333ec0454f3e8cc951008b64f61429de9876c4f853a19586bb16a3b11e07300872e740401591679a8fafdde7b542441f2ae000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "5",
            "tx": {
               "trace_id": "0",
               "tx_id": "5",
               "time": "1",
               "type": "REMOVE_SUB_ACCOUNT_SIGNER",
               "remove_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0xa3d8669322b7ac806beb0eca5faefc2ff4f5bb768471143a16593bf0cc8ca518",
                     "s": "0x7fd0d77023e7afd3bfcddb6739bab64b572209f57d93c52f14e675b8e390ab25",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "WQFBBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAANFTgq7Nstzsxe2BgJMRL+lJxKPwAAAAAAAAAAAAAAAAEIG7Mpd8+GVm9n8LJZeXEtqPlkuj2GaTIresgGvrDspfrvwv9PW7doRxFDoWWTvwzIylGH/Q13Aj56/Tv83bZzm6tktXIgn1fZPFLxTmdbjjkKslAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJA",
            "tx_data": "0x59014104000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000001000000000000000000000000d15382aecdb2dcecc5ed818093112fe949c4a3f00000000000000000000000001081bb32977cf86566f67f0b25979712da8f964ba3d8669322b7ac806beb0eca5faefc2ff4f5bb768471143a16593bf0cc8ca5187fd0d77023e7afd3bfcddb6739bab64b572209f57d93c52f14e675b8e390ab25000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "eip712 invalid signature: recovery failed",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        "0x1081bb32977cf86566f67f0b25979712da8f964b": "2",
                        "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0": "4"
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         }
      ]
   },
   {
      "name": "removeAccountSigner: fails if invalid signature (Wrong nonce)",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xf81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437",
                     "s": "0x038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ/gcjvZjZ1hH/kKV7BgP/3/mG+uGVjhk9YDv27SRFVQ3A43e3pbtPsxgJYsCKtVrl/RCoDIpocQV2Qacio8iq/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27f81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "4",
            "tx": {
               "trace_id": "0",
               "tx_id": "4",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0",
                  "permissions": "4",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0x73612017239c15a5ab38d5e49e6ce333ec0454f3e8cc951008b64f61429de987",
                     "s": "0x6c4f853a19586bb16a3b11e07300872e740401591679a8fafdde7b542441f2ae",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAANFTgq7Nstzsxe2BgJMRL+lJxKPwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAQgbsyl3z4ZWb2fwsll5cS2o+WS3NhIBcjnBWlqzjV5J5s4zPsBFTz6MyVEAi2T2FCnemHbE+FOhlYa7FqOxHgcwCHLnQEAVkWeaj6/d57VCRB8q4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000001000000000000000000000000d15382aecdb2dcecc5ed818093112fe949c4a3f000000000000000000000000000000000000000000000000000000000000000040000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b73612017239c15a5ab38d5e49e6ce333ec0454f3e8cc951008b64f61429de9876c4f853a19586bb16a3b11e07300872e740401591679a8fafdde7b542441f2ae000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "5",
            "tx": {
               "trace_id": "0",
               "tx_id": "5",
               "time": "1",
               "type": "REMOVE_SUB_ACCOUNT_SIGNER",
               "remove_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0xa3d8669322b7ac806beb0eca5faefc2ff4f5bb768471143a16593bf0cc8ca518",
                     "s": "0x7fd0d77023e7afd3bfcddb6739bab64b572209f57d93c52f14e675b8e390ab25",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 123457
                  }
               }
            },
            "tx_abi": "WQFBBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAANFTgq7Nstzsxe2BgJMRL+lJxKPwAAAAAAAAAAAAAAAAEIG7Mpd8+GVm9n8LJZeXEtqPlkuj2GaTIresgGvrDspfrvwv9PW7doRxFDoWWTvwzIylGH/Q13Aj56/Tv83bZzm6tktXIgn1fZPFLxTmdbjjkKslAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJB",
            "tx_data": "0x59014104000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000001000000000000000000000000d15382aecdb2dcecc5ed818093112fe949c4a3f00000000000000000000000001081bb32977cf86566f67f0b25979712da8f964ba3d8669322b7ac806beb0eca5faefc2ff4f5bb768471143a16593bf0cc8ca5187fd0d77023e7afd3bfcddb6739bab64b572209f57d93c52f14e675b8e390ab25000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e241",
            "ret": "eip712 invalid signature: recovery failed",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        "0x1081bb32977cf86566f67f0b25979712da8f964b": "2",
                        "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0": "4"
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         }
      ]
   },
   {
      "name": "removeAccountSigner: fails if sub acc does not exist",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "REMOVE_SUB_ACCOUNT_SIGNER",
               "remove_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0xa3d8669322b7ac806beb0eca5faefc2ff4f5bb768471143a16593bf0cc8ca518",
                     "s": "0x7fd0d77023e7afd3bfcddb6739bab64b572209f57d93c52f14e675b8e390ab25",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "WQFBBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAANFTgq7Nstzsxe2BgJMRL+lJxKPwAAAAAAAAAAAAAAAAEIG7Mpd8+GVm9n8LJZeXEtqPlkuj2GaTIresgGvrDspfrvwv9PW7doRxFDoWWTvwzIylGH/Q13Aj56/Tv83bZzm6tktXIgn1fZPFLxTmdbjjkKslAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJA",
            "tx_data": "0x59014104000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000001000000000000000000000000d15382aecdb2dcecc5ed818093112fe949c4a3f00000000000000000000000001081bb32977cf86566f67f0b25979712da8f964ba3d8669322b7ac806beb0eca5faefc2ff4f5bb768471143a16593bf0cc8ca5187fd0d77023e7afd3bfcddb6739bab64b572209f57d93c52f14e675b8e390ab25000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "subaccount 1 not found"
         }
      ]
   },
   {
      "name": "removeAccountSigner: fails if current user does not have permission to remove",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "4",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xa8a7afc041f14d20e2f52d799bef854d50a58aa38154fd782e95a7dd88c6dab9",
                     "s": "0x3dc1b83452579dceb69fd7643cad3cd3d03d77d5af8befdff37e792cb75474d7",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ6inr8BB8U0g4vUteZvvhU1QpYqjgVT9eC6Vp92Ixtq5PcG4NFJXnc62n9dkPK0809A9d9Wvi+/f8355LLdUdNcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000004000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27a8a7afc041f14d20e2f52d799bef854d50a58aa38154fd782e95a7dd88c6dab93dc1b83452579dceb69fd7643cad3cd3d03d77d5af8befdff37e792cb75474d7000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "4",
            "tx": {
               "trace_id": "0",
               "tx_id": "4",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0",
                  "permissions": "4",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x396b7eda5deb7ab56f7e12f828f9a3c05e16bc0aa6a61f3fb98309814d716b55",
                     "s": "0x1acea41ea0651b1211225f515305db78c14c0ac9b4485863cbe9d404e10146d0",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAANFTgq7Nstzsxe2BgJMRL+lJxKPwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJzlrftpd63q1b34S+Cj5o8BeFrwKpqYfP7mDCYFNcWtVGs6kHqBlGxIRIl9RUwXbeMFMCsm0SFhjy+nUBOEBRtAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000001000000000000000000000000d15382aecdb2dcecc5ed818093112fe949c4a3f00000000000000000000000000000000000000000000000000000000000000004000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27396b7eda5deb7ab56f7e12f828f9a3c05e16bc0aa6a61f3fb98309814d716b551acea41ea0651b1211225f515305db78c14c0ac9b4485863cbe9d404e10146d0000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "5",
            "tx": {
               "trace_id": "0",
               "tx_id": "5",
               "time": "1",
               "type": "REMOVE_SUB_ACCOUNT_SIGNER",
               "remove_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0xa3d8669322b7ac806beb0eca5faefc2ff4f5bb768471143a16593bf0cc8ca518",
                     "s": "0x7fd0d77023e7afd3bfcddb6739bab64b572209f57d93c52f14e675b8e390ab25",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "WQFBBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAANFTgq7Nstzsxe2BgJMRL+lJxKPwAAAAAAAAAAAAAAAAEIG7Mpd8+GVm9n8LJZeXEtqPlkuj2GaTIresgGvrDspfrvwv9PW7doRxFDoWWTvwzIylGH/Q13Aj56/Tv83bZzm6tktXIgn1fZPFLxTmdbjjkKslAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJA",
            "tx_data": "0x59014104000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000001000000000000000000000000d15382aecdb2dcecc5ed818093112fe949c4a3f00000000000000000000000001081bb32977cf86566f67f0b25979712da8f964ba3d8669322b7ac806beb0eca5faefc2ff4f5bb768471143a16593bf0cc8ca5187fd0d77023e7afd3bfcddb6739bab64b572209f57d93c52f14e675b8e390ab25000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "no permission",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        "0x1081bb32977cf86566f67f0b25979712da8f964b": "4",
                        "0xd15382aecdb2dcecc5ed818093112fe949c4a3f0": "4"
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         }
      ]
   },
   {
      "name": "setSubAccountMarginType: acc-admin can change margin type of sub-account",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "SET_SUB_ACCOUNT_MARGIN_TYPE",
               "set_sub_account_margin_type": {
                  "sub_account_id": "1",
                  "margin_type": "ISOLATED_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x095a000c159c96d657fe67edc931d19dcefd14fc98a02b2c8485883010c4e235",
                     "s": "0x36e0c8d19f0f106a028c00ddea88c6f6023caaad4472d1fd8eceb0a4ad420595",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "S2zD1wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAA+L5aN1C1LVCoGbmuQTCvwC3GrScJWgAMFZyW1lf+Z+3JMdGdzv0U/JigKyyEhYgwEMTiNTbgyNGfDxBqAowA3eqIxvYCPKqtRHLR/Y7OsKStQgWVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJA",
            "tx_data": "0x4b6cc3d70000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27095a000c159c96d657fe67edc931d19dcefd14fc98a02b2c8485883010c4e23536e0c8d19f0f106a028c00ddea88c6f6023caaad4472d1fd8eceb0a4ad420595000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "margin_type": 1
                  },
                  "name": "ExSubAccountMarginType"
               }
            ]
         }
      ]
   },
   {
      "name": "setSubAccountMarginType: sub-acc-admin can change margin type of sub-account",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xf81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437",
                     "s": "0x038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ/gcjvZjZ1hH/kKV7BgP/3/mG+uGVjhk9YDv27SRFVQ3A43e3pbtPsxgJYsCKtVrl/RCoDIpocQV2Qacio8iq/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27f81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "4",
            "tx": {
               "trace_id": "0",
               "tx_id": "4",
               "time": "1",
               "type": "SET_SUB_ACCOUNT_MARGIN_TYPE",
               "set_sub_account_margin_type": {
                  "sub_account_id": "1",
                  "margin_type": "ISOLATED_MARGIN",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0xf7103b885a9c08cb04e9684766ff589ffb859c48d604285e16d90b735215a579",
                     "s": "0x1a85b694d0832a82ae3c0d61ce5a9c458c39505baa46332cd2ac1f5bf0df5152",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "S2zD1wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEIG7Mpd8+GVm9n8LJZeXEtqPlkv3EDuIWpwIywTpaEdm/1if+4WcSNYEKF4W2QtzUhWleRqFtpTQgyqCrjwNYc5anEWMOVBbqkYzLNKsH1vw31FSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJA",
            "tx_data": "0x4b6cc3d700000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964bf7103b885a9c08cb04e9684766ff589ffb859c48d604285e16d90b735215a5791a85b694d0832a82ae3c0d61ce5a9c458c39505baa46332cd2ac1f5bf0df5152000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "margin_type": 1
                  },
                  "name": "ExSubAccountMarginType"
               }
            ]
         }
      ]
   },
   {
      "name": "setSubAccountMarginType: fails if invalid signature (Wrong V)",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xf81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437",
                     "s": "0x038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ/gcjvZjZ1hH/kKV7BgP/3/mG+uGVjhk9YDv27SRFVQ3A43e3pbtPsxgJYsCKtVrl/RCoDIpocQV2Qacio8iq/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27f81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "4",
            "tx": {
               "trace_id": "0",
               "tx_id": "4",
               "time": "1",
               "type": "SET_SUB_ACCOUNT_MARGIN_TYPE",
               "set_sub_account_margin_type": {
                  "sub_account_id": "1",
                  "margin_type": "ISOLATED_MARGIN",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0xf7103b885a9c08cb04e9684766ff589ffb859c48d604285e16d90b735215a579",
                     "s": "0x1a85b694d0832a82ae3c0d61ce5a9c458c39505baa46332cd2ac1f5bf0df5152",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "S2zD1wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEIG7Mpd8+GVm9n8LJZeXEtqPlkv3EDuIWpwIywTpaEdm/1if+4WcSNYEKF4W2QtzUhWleRqFtpTQgyqCrjwNYc5anEWMOVBbqkYzLNKsH1vw31FSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJA",
            "tx_data": "0x4b6cc3d700000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964bf7103b885a9c08cb04e9684766ff589ffb859c48d604285e16d90b735215a5791a85b694d0832a82ae3c0d61ce5a9c458c39505baa46332cd2ac1f5bf0df5152000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "eip712 invalid signature: recovery failed",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "margin_type": 2
                  },
                  "name": "ExSubAccountMarginType"
               }
            ]
         }
      ]
   },
   {
      "name": "setSubAccountMarginType: fails if invalid signature (Wrong R)",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xf81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437",
                     "s": "0x038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ/gcjvZjZ1hH/kKV7BgP/3/mG+uGVjhk9YDv27SRFVQ3A43e3pbtPsxgJYsCKtVrl/RCoDIpocQV2Qacio8iq/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27f81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "4",
            "tx": {
               "trace_id": "0",
               "tx_id": "4",
               "time": "1",
               "type": "SET_SUB_ACCOUNT_MARGIN_TYPE",
               "set_sub_account_margin_type": {
                  "sub_account_id": "1",
                  "margin_type": "ISOLATED_MARGIN",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0xf7103b885a9c08cb04e9684766ff589ffb859c48d604285e16d90b735215cc89",
                     "s": "0x1a85b694d0832a82ae3c0d61ce5a9c458c39505baa46332cd2ac1f5bf0df5152",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "S2zD1wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEIG7Mpd8+GVm9n8LJZeXEtqPlkv3EDuIWpwIywTpaEdm/1if+4WcSNYEKF4W2QtzUhXMiRqFtpTQgyqCrjwNYc5anEWMOVBbqkYzLNKsH1vw31FSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJA",
            "tx_data": "0x4b6cc3d700000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964bf7103b885a9c08cb04e9684766ff589ffb859c48d604285e16d90b735215cc891a85b694d0832a82ae3c0d61ce5a9c458c39505baa46332cd2ac1f5bf0df5152000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "eip712 invalid signature: recovery failed",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "margin_type": 2
                  },
                  "name": "ExSubAccountMarginType"
               }
            ]
         }
      ]
   },
   {
      "name": "setSubAccountMarginType: fails if invalid signature (Wrong S)",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xf81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437",
                     "s": "0x038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ/gcjvZjZ1hH/kKV7BgP/3/mG+uGVjhk9YDv27SRFVQ3A43e3pbtPsxgJYsCKtVrl/RCoDIpocQV2Qacio8iq/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27f81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "4",
            "tx": {
               "trace_id": "0",
               "tx_id": "4",
               "time": "1",
               "type": "SET_SUB_ACCOUNT_MARGIN_TYPE",
               "set_sub_account_margin_type": {
                  "sub_account_id": "1",
                  "margin_type": "ISOLATED_MARGIN",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0xf7103b885a9c08cb04e9684766ff589ffb859c48d604285e16d90b735215a579",
                     "s": "0x1a85b694d0832a82ae3c0d61ce5a9c458c39505baa46332cd2ac1f5bf0df7862",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "S2zD1wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEIG7Mpd8+GVm9n8LJZeXEtqPlkv3EDuIWpwIywTpaEdm/1if+4WcSNYEKF4W2QtzUhWleRqFtpTQgyqCrjwNYc5anEWMOVBbqkYzLNKsH1vw33hiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJA",
            "tx_data": "0x4b6cc3d700000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964bf7103b885a9c08cb04e9684766ff589ffb859c48d604285e16d90b735215a5791a85b694d0832a82ae3c0d61ce5a9c458c39505baa46332cd2ac1f5bf0df7862000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "eip712 invalid signature: recovery failed",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "margin_type": 2
                  },
                  "name": "ExSubAccountMarginType"
               }
            ]
         }
      ]
   },
   {
      "name": "setSubAccountMarginType: fails if invalid signature (Wrong nonce)",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "2",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xf81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437",
                     "s": "0x038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ/gcjvZjZ1hH/kKV7BgP/3/mG+uGVjhk9YDv27SRFVQ3A43e3pbtPsxgJYsCKtVrl/RCoDIpocQV2Qacio8iq/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27f81c8ef663675847fe4295ec180fff7fe61beb86563864f580efdbb491155437038ddede96ed3ecc60258b022ad56b97f442a03229a1c415d9069c8a8f22abf0000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "4",
            "tx": {
               "trace_id": "0",
               "tx_id": "4",
               "time": "1",
               "type": "SET_SUB_ACCOUNT_MARGIN_TYPE",
               "set_sub_account_margin_type": {
                  "sub_account_id": "1",
                  "margin_type": "ISOLATED_MARGIN",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0xf7103b885a9c08cb04e9684766ff589ffb859c48d604285e16d90b735215a579",
                     "s": "0x1a85b694d0832a82ae3c0d61ce5a9c458c39505baa46332cd2ac1f5bf0df5152",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 123457
                  }
               }
            },
            "tx_abi": "S2zD1wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEIG7Mpd8+GVm9n8LJZeXEtqPlkv3EDuIWpwIywTpaEdm/1if+4WcSNYEKF4W2QtzUhWleRqFtpTQgyqCrjwNYc5anEWMOVBbqkYzLNKsH1vw31FSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJB",
            "tx_data": "0x4b6cc3d700000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964bf7103b885a9c08cb04e9684766ff589ffb859c48d604285e16d90b735215a5791a85b694d0832a82ae3c0d61ce5a9c458c39505baa46332cd2ac1f5bf0df5152000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e241",
            "ret": "eip712 invalid signature: recovery failed",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "margin_type": 2
                  },
                  "name": "ExSubAccountMarginType"
               }
            ]
         }
      ]
   },
   {
      "name": "setSubAccountMarginType: fails if user does not have permissions",
      "steps": [
         {
            "time": "1",
            "tx_id": "1",
            "tx": {
               "trace_id": "0",
               "tx_id": "1",
               "time": "1",
               "type": "CREATE_ACCOUNT",
               "create_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xb324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f",
                     "s": "0x4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "htsA4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nsySlUBM9iBPS5RyruQOqeMtj8n9+tS73DEXbDAR+y49ChyAKYW8dcz+DuSUHXk/CE/btDLj6wBY6gXLwvq1WQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x86db00e100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27b324a550133d8813d2e51cabb903aa78cb63f27f7eb52ef70c45db0c047ecb8f4287200a616f1d733f83b925075e4fc213f6ed0cb8fac0163a8172f0bead5642000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "address": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "signers": {
                        "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27": "2"
                     }
                  },
                  "name": "ExAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "2",
            "tx": {
               "trace_id": "0",
               "tx_id": "2",
               "time": "1",
               "type": "CREATE_SUB_ACCOUNT",
               "create_sub_account": {
                  "account": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                  "sub_account_id": "1",
                  "quote_currency": "USDT",
                  "margin_type": "SIMPLE_CROSS_MARGIN",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0x2c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef113",
                     "s": "0x6800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 1234
                  }
               }
            },
            "tx_abi": "HDih8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAPi+WjdQtS1QqBm5rkEwr8Atxq0nLGKaUcWfA6rDPRIdr/7PMvDqqOA68Fy5emF3byp+8RNoAO52jp/u4b3bx0GaGAhzefXJqzAk+k7l3WGK2TEavQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0g==",
            "tx_data": "0x1c38a1f000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad272c629a51c59f03aac33d121daffecf32f0eaa8e03af05cb97a61776f2a7ef1136800ee768e9feee1bddbc7419a18087379f5c9ab3024fa4ee5dd618ad9311abd000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d200000000000000000000000000000000000000000000000000000000000004d2",
            "ret": "",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "signers": {
                        
                     }
                  },
                  "name": "ExSubAccountSigners"
               }
            ]
         },
         {
            "time": "1",
            "tx_id": "3",
            "tx": {
               "trace_id": "0",
               "tx_id": "3",
               "time": "1",
               "type": "ADD_SUB_ACCOUNT_SIGNER",
               "add_sub_account_signer": {
                  "sub_account_id": "1",
                  "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                  "permissions": "4",
                  "signature": {
                     "signer": "0xf8be5a3750b52d50a819b9ae4130afc02dc6ad27",
                     "r": "0xa8a7afc041f14d20e2f52d799bef854d50a58aa38154fd782e95a7dd88c6dab9",
                     "s": "0x3dc1b83452579dceb69fd7643cad3cd3d03d77d5af8befdff37e792cb75474d7",
                     "v": 27,
                     "expiration": "1234",
                     "nonce": 12345
                  }
               }
            },
            "tx_abi": "/E1a6wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAABCBuzKXfPhlZvZ/CyWXlxLaj5ZLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAD4vlo3ULUtUKgZua5BMK/ALcatJ6inr8BB8U0g4vUteZvvhU1QpYqjgVT9eC6Vp92Ixtq5PcG4NFJXnc62n9dkPK0809A9d9Wvi+/f8355LLdUdNcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDk=",
            "tx_data": "0xfc4d5aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964b0000000000000000000000000000000000000000000000000000000000000004000000000000000000000000f8be5a3750b52d50a819b9ae4130afc02dc6ad27a8a7afc041f14d20e2f52d799bef854d50a58aa38154fd782e95a7dd88c6dab93dc1b83452579dceb69fd7643cad3cd3d03d77d5af8befdff37e792cb75474d7000000000000000000000000000000000000000000000000000000000000001b00000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000003039",
            "ret": ""
         },
         {
            "time": "1",
            "tx_id": "4",
            "tx": {
               "trace_id": "0",
               "tx_id": "4",
               "time": "1",
               "type": "SET_SUB_ACCOUNT_MARGIN_TYPE",
               "set_sub_account_margin_type": {
                  "sub_account_id": "1",
                  "margin_type": "ISOLATED_MARGIN",
                  "signature": {
                     "signer": "0x1081bb32977cf86566f67f0b25979712da8f964b",
                     "r": "0xf7103b885a9c08cb04e9684766ff589ffb859c48d604285e16d90b735215a579",
                     "s": "0x1a85b694d0832a82ae3c0d61ce5a9c458c39505baa46332cd2ac1f5bf0df5152",
                     "v": 28,
                     "expiration": "1234",
                     "nonce": 123456
                  }
               }
            },
            "tx_abi": "S2zD1wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEIG7Mpd8+GVm9n8LJZeXEtqPlkv3EDuIWpwIywTpaEdm/1if+4WcSNYEKF4W2QtzUhWleRqFtpTQgyqCrjwNYc5anEWMOVBbqkYzLNKsH1vw31FSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJA",
            "tx_data": "0x4b6cc3d700000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000001081bb32977cf86566f67f0b25979712da8f964bf7103b885a9c08cb04e9684766ff589ffb859c48d604285e16d90b735215a5791a85b694d0832a82ae3c0d61ce5a9c458c39505baa46332cd2ac1f5bf0df5152000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000004d2000000000000000000000000000000000000000000000000000000000001e240",
            "ret": "no permission",
            "expectations": [
               {
                  "expect": {
                     "sub_account_id": "1",
                     "margin_type": 2
                  },
                  "name": "ExSubAccountMarginType"
               }
            ]
         }
      ]
   }
]